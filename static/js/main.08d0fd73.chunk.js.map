{"version":3,"sources":["../node_modules/iota.lib.js/lib/utils sync","LedgerTrampoline.jsx","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","LedgerTrampoline","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","registerEventListener","bind","initLedger","sendMessageToExtension","_this2","window","addEventListener","data","target","console","log","action","replyAction","params","success","payload","TransportU2F","create","transport","iota","Iota","_context","t0","message","msg","parent","postMessage","React","Component","ReactDOM","render","react_default","a","createElement","src_LedgerTrampoline","document","getElementById"],"mappings":"2EAAA,SAAAA,EAAAC,GACA,IAAAC,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEAF,EAAAK,KAAA,WAAuC,UACvCL,EAAAM,QAAAN,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,sLCwDeC,cA1Db,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACZC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QACKI,sBAAwBP,EAAKO,sBAAsBC,OACxDR,EAAKS,WAAaT,EAAKS,WAAWD,OAClCR,EAAKU,uBAAyBV,EAAKU,uBAAuBF,OAC1DR,EAAKO,wBALOP,uFAQU,IAAAW,EAAAR,KACtBS,OAAOC,iBAAiB,UAAW,SAACtB,GAClC,GAAIA,GAAKA,EAAEuB,MAA0B,kBAAlBvB,EAAEuB,KAAKC,OAA4B,CACpDC,QAAQC,IAAI1B,GACZ,IAAM2B,EAAS3B,EAAEuB,KAAKI,OAGhBC,GAFS5B,EAAEuB,KAAKM,OAEFF,EAAS,UAC7B,OAAQA,GACN,IAAK,cACHP,EAAKF,WAAWU,GAChB,MACF,QACER,EAAKD,uBAAuB,CAC1BQ,OAAQC,EACRE,SAAS,EACTC,QAAS,WAIhB,8EAGYH,kGAEWI,IAAaC,gBAA/BC,SACNtB,KAAKuB,KAAO,IAAIC,IAAKF,GACrBtB,KAAKO,uBAAuB,CAC1BQ,OAAQC,EACRE,SAAS,EACTC,QAAS,uDAGXnB,KAAKO,uBAAuB,CAC1BQ,OAAQC,EACRE,SAAS,EACTC,QAASM,EAAAC,GAAEC,qKAKMC,GACrBnB,OAAOoB,OAAOC,YAAYF,EAAK,sCAI/B,OAAO,YAxDoBG,IAAMC,WCArCC,IAASC,OACLC,EAAAC,EAAAC,cAACC,EAAD,MACFC,SAASC,eAAe","file":"static/js/main.08d0fd73.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 189;","import React from 'react'\nimport TransportU2F from \"@ledgerhq/hw-transport-u2f\"\nimport Iota from 'hw-app-iota'\n\nclass LedgerTrampoline extends React.Component {\n\n  constructor() {\n    super()\n    this.registerEventListener = this.registerEventListener.bind()\n    this.initLedger = this.initLedger.bind()\n    this.sendMessageToExtension = this.sendMessageToExtension.bind()\n    this.registerEventListener()\n  }\n\n  registerEventListener() {\n    window.addEventListener('message', (e) => {\n      if (e && e.data && e.data.target === 'ledger-iframe') {\n        console.log(e)\n        const action = e.data.action\n        const params = e.data.params\n\n        const replyAction = action + '-reply'\n        switch (action) {\n          case 'ledger-init': \n            this.initLedger(replyAction)\n            break\n          default:\n            this.sendMessageToExtension({\n              action: replyAction,\n              success: false,\n              payload: null\n            })\n        }\n      }\n    }, false)\n  }\n\n  async initLedger(replyAction){\n    try {\n      const transport = await TransportU2F.create()\n      this.iota = new Iota(transport)\n      this.sendMessageToExtension({\n        action: replyAction,\n        success: true,\n        payload: null\n      })\n    } catch (e) {\n      this.sendMessageToExtension({\n        action: replyAction,\n        success: false,\n        payload: e.message\n      })\n    }\n  }\n\n  sendMessageToExtension(msg) {\n    window.parent.postMessage(msg, '*')\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default LedgerTrampoline","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport LedgerTrampoline from './LedgerTrampoline'\n\nReactDOM.render(\n    <LedgerTrampoline/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}